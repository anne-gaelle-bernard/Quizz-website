<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>QuizMaster Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                        'pulse-glow': 'pulseGlow 2s infinite'
                    }
                }
            }
        }
    </script>

</head>
<body class="min-h-screen transition-colors duration-300">
    <!-- Dark Mode Toggle -->
    <button id="darkModeToggle" class="fixed top-4 right-4 z-50 p-3 rounded-full bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110">
        <svg id="sunIcon" class="w-6 h-6 text-gray-800 dark:text-gray-200 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
        </svg>
        <svg id="moonIcon" class="w-6 h-6 text-gray-800 dark:text-gray-200 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
        </svg>
    </button>

    <!-- Header -->
    <header class="gradient-bg text-white py-8 animate-fade-in">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-5xl font-bold mb-4 animate-bounce-in"> Quizz </h1>
            <p class="text-xl opacity-90">Test Your Knowledge Across Multiple Categories</p>
        </div>
    </header>

    <!-- Main Content Container -->
    <div class="bg-gray-50 dark:bg-gray-900 min-h-screen transition-colors duration-300">
        
        <!-- Homepage -->
        <div id="homepage" class="container mx-auto px-4 py-12">
            <div class="text-center mb-12 animate-slide-up">
                <h2 class="text-4xl font-bold text-gray-800 dark:text-white mb-4">Choose Your Category</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300">Pick a category and challenge yourself!</p>
            </div>

            <!-- Categories Grid -->
            <div id="categoriesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <!-- Categories will be dynamically loaded here -->
            </div>

            <!-- Admin Button -->
            <div class="text-center">
                <button onclick="showAdminLogin()" class="bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-semibold transition-all duration-300 hover:shadow-lg hover:scale-105">
                    üîí Admin Panel
                </button>
            </div>
        </div>

        <!-- Quiz Page -->
        <div id="quizPage" class="hidden container mx-auto px-4 py-12">
            <div class="max-w-4xl mx-auto">
                <!-- Quiz Header -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 mb-8 animate-slide-up">
                    <div class="flex justify-between items-center mb-4">
                        <h2 id="quizTitle" class="text-2xl font-bold text-gray-800 dark:text-white"></h2>
                        <button onclick="goHome()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-300">
                            üè† Home
                        </button>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-4">
                        <div id="progressBar" class="bg-blue-600 h-3 rounded-full transition-all duration-500 animate-pulse-glow" style="width: 0%"></div>
                    </div>
                    
                    <!-- Question Counter & Timer -->
                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400">
                        <span id="questionCounter">Question 1 of 10</span>
                        <span id="timer" class="font-mono">‚è±Ô∏è 30s</span>
                    </div>
                </div>

                <!-- Question Card -->
                <div id="questionCard" class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 animate-bounce-in">
                    <h3 id="questionText" class="text-xl font-semibold text-gray-800 dark:text-white mb-6"></h3>
                    
                    <!-- Answer Options -->
                    <div id="answerOptions" class="space-y-4">
                        <!-- Options will be dynamically loaded here -->
                    </div>
                    
                    <!-- Next Button -->
                    <div class="text-center mt-8">
                        <button id="nextButton" onclick="nextQuestion()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-all duration-300 hover:shadow-lg hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Next Question ‚û°Ô∏è
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div id="resultsPage" class="hidden container mx-auto px-4 py-12">
            <div class="max-w-2xl mx-auto text-center">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 animate-bounce-in">
                    <div id="resultIcon" class="text-6xl mb-4">üéâ</div>
                    <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-4">Quiz Complete!</h2>
                    <div id="scoreDisplay" class="text-5xl font-bold text-blue-600 dark:text-blue-400 mb-2">0/0</div>
                    <div id="percentageDisplay" class="text-2xl text-gray-600 dark:text-gray-400 mb-6">0%</div>
                    <div id="performanceMessage" class="text-lg text-gray-700 dark:text-gray-300 mb-8"></div>
                    
                    <!-- Action Buttons -->
                    <div class="space-x-4">
                        <button onclick="restartQuiz()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300 hover:shadow-lg hover:scale-105">
                            üîÑ Retry Quiz
                        </button>
                        <button onclick="goHome()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300 hover:shadow-lg hover:scale-105">
                            üè† Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="hidden container mx-auto px-4 py-12">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 mb-8 animate-slide-up">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gray-800 dark:text-white">üîß Admin Dashboard</h2>
                        <button onclick="goHome()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-all duration-300">
                            üè† Home
                        </button>
                    </div>
                    
                    <!-- Admin Navigation -->
                    <div class="flex space-x-4 mb-8">
                        <button onclick="showCategoryManager()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300">
                            üìÅ Manage Categories
                        </button>
                        <button onclick="showQuestionManager()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300">
                            ‚ùì Manage Questions
                        </button>
                    </div>

                    <!-- Category Manager -->
                    <div id="categoryManager" class="animate-fade-in">
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">Category Management</h3>
                        
                        <!-- Add New Category -->
                        <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg mb-6">
                            <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Add New Category</h4>
                            <div class="flex space-x-4">
                                <input type="text" id="newCategoryName" placeholder="Category name" class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <input type="text" id="newCategoryIcon" placeholder="Icon (emoji)" class="w-20 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <button onclick="addCategory()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition-all duration-300">
                                    ‚ûï Add
                                </button>
                            </div>
                        </div>

                        <!-- Existing Categories -->
                        <div id="adminCategoriesList" class="space-y-4">
                            <!-- Categories will be listed here -->
                        </div>
                    </div>

                    <!-- Question Manager -->
                    <div id="questionManager" class="hidden animate-fade-in">
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-white mb-4">Question Management</h3>
                        
                        <!-- Category Selection -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Select Category:</label>
                            <select id="questionCategorySelect" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <option value="">Choose a category...</option>
                            </select>
                        </div>

                        <!-- Add New Question -->
                        <div id="addQuestionForm" class="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg mb-6">
                            <h4 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Add New Question</h4>
                            <div class="space-y-4">
                                <input type="text" id="newQuestion" placeholder="Question text" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <input type="text" id="newOption1" placeholder="Option 1" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <input type="text" id="newOption2" placeholder="Option 2" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <input type="text" id="newOption3" placeholder="Option 3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <input type="text" id="newOption4" placeholder="Option 4" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                <select id="correctAnswer" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white">
                                    <option value="">Select correct answer...</option>
                                    <option value="0">Option 1</option>
                                    <option value="1">Option 2</option>
                                    <option value="2">Option 3</option>
                                    <option value="3">Option 4</option>
                                </select>
                                <button onclick="addQuestion()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold transition-all duration-300">
                                    ‚ûï Add Question
                                </button>
                            </div>
                        </div>

                        <!-- Questions List -->
                        <div id="questionsList" class="space-y-4">
                            <!-- Questions will be listed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Login Modal -->
        <div id="adminLoginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl max-w-md w-full mx-4 animate-bounce-in">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">üîê Admin Login</h3>
                <div class="space-y-4">
                    <input type="password" id="adminPassword" placeholder="Enter admin password" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white">
                    <div class="flex space-x-4">
                        <button onclick="loginAdmin()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                            Login
                        </button>
                        <button onclick="hideAdminLogin()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-semibold transition-all duration-300">
                            Cancel
                        </button>
                    </div>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-4 text-center">Default password: admin123</p>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let currentCategory = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let selectedAnswer = null;
        let timer = null;
        let timeLeft = 30;
        let isDarkMode = false;

        // Sample Data
        let quizData = {
            'History': {
                icon: 'üèõÔ∏è',
                questions: [
                    {
                        question: "Who was the first President of the United States?",
                        options: ["George Washington", "John Adams", "Thomas Jefferson", "Benjamin Franklin"],
                        correct: 0
                    },
                    {
                        question: "In which year did World War II end?",
                        options: ["1944", "1945", "1946", "1947"],
                        correct: 1
                    },
                    {
                        question: "Which empire was ruled by Julius Caesar?",
                        options: ["Greek Empire", "Roman Empire", "Persian Empire", "Ottoman Empire"],
                        correct: 1
                    },
                    {
                        question: "The Berlin Wall fell in which year?",
                        options: ["1987", "1988", "1989", "1990"],
                        correct: 2
                    },
                    {
                        question: "Who was known as the Iron Lady?",
                        options: ["Queen Elizabeth II", "Margaret Thatcher", "Golda Meir", "Indira Gandhi"],
                        correct: 1
                    }
                ]
            },
            'Science': {
                icon: 'üî¨',
                questions: [
                    {
                        question: "What is the chemical symbol for gold?",
                        options: ["Go", "Gd", "Au", "Ag"],
                        correct: 2
                    },
                    {
                        question: "Which planet is known as the Red Planet?",
                        options: ["Venus", "Mars", "Jupiter", "Saturn"],
                        correct: 1
                    },
                    {
                        question: "What is the speed of light in vacuum?",
                        options: ["299,792,458 m/s", "300,000,000 m/s", "299,000,000 m/s", "301,000,000 m/s"],
                        correct: 0
                    },
                    {
                        question: "Who developed the theory of relativity?",
                        options: ["Newton", "Einstein", "Galileo", "Tesla"],
                        correct: 1
                    },
                    {
                        question: "What is the smallest unit of matter?",
                        options: ["Molecule", "Cell", "Atom", "Proton"],
                        correct: 2
                    }
                ]
            },
            'Sports': {
                icon: '‚öΩ',
                questions: [
                    {
                        question: "How many players are on a basketball team on the court at once?",
                        options: ["4", "5", "6", "7"],
                        correct: 1
                    },
                    {
                        question: "Which country won the 2018 FIFA World Cup?",
                        options: ["Brazil", "Germany", "France", "Argentina"],
                        correct: 2
                    },
                    {
                        question: "In tennis, what does 'love' mean?",
                        options: ["1 point", "15 points", "0 points", "Game point"],
                        correct: 2
                    },
                    {
                        question: "How long is a marathon race?",
                        options: ["26.2 miles", "25 miles", "30 miles", "24.2 miles"],
                        correct: 0
                    },
                    {
                        question: "Which sport is known as 'The Beautiful Game'?",
                        options: ["Basketball", "Tennis", "Football/Soccer", "Baseball"],
                        correct: 2
                    }
                ]
            }
        };

        // Initialize App
        function initializeApp() {
            loadCategories();
            setupDarkMode();
            
            // Load saved dark mode preference
            const savedDarkMode = localStorage.getItem('darkMode');
            if (savedDarkMode === 'true') {
                enableDarkMode();
            }
        }

        // Dark Mode Functions
        function setupDarkMode() {
            const toggle = document.getElementById('darkModeToggle');
            toggle.addEventListener('click', toggleDarkMode);
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
            localStorage.setItem('darkMode', isDarkMode);
        }

        function enableDarkMode() {
            document.documentElement.classList.add('dark');
            document.body.classList.add('dark:bg-gray-900');
            isDarkMode = true;
        }

        function disableDarkMode() {
            document.documentElement.classList.remove('dark');
            document.body.classList.remove('dark:bg-gray-900');
            isDarkMode = false;
        }

        // Category Functions
        function loadCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = '';
            
            Object.keys(quizData).forEach(category => {
                const categoryCard = createCategoryCard(category, quizData[category]);
                grid.appendChild(categoryCard);
            });
        }

        function createCategoryCard(categoryName, categoryData) {
            const card = document.createElement('div');
            card.className = 'bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 cursor-pointer animate-slide-up group';
            card.onclick = () => startQuiz(categoryName);
            
            const questionCount = categoryData.questions.length;
            
            card.innerHTML = `
                <div class="p-6 text-center">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform duration-300">${categoryData.icon}</div>
                    <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2">${categoryName}</h3>
                    <p class="text-gray-600 dark:text-gray-400">${questionCount} Questions</p>
                    <div class="mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold group-hover:bg-blue-700 transition-colors duration-300">
                        Start Quiz
                    </div>
                </div>
            `;
            
            return card;
        }

        // Quiz Functions
        function startQuiz(category) {
            currentCategory = category;
            questions = [...quizData[category].questions];
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            
            document.getElementById('homepage').classList.add('hidden');
            document.getElementById('quizPage').classList.remove('hidden');
            document.getElementById('quizTitle').textContent = `${quizData[category].icon} ${category} Quiz`;
            
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }
            
            const question = questions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionCounter').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            
            // Update progress bar
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            
            // Load answer options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionButton = document.createElement('button');
                optionButton.className = 'w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-blue-500 transition-all duration-300 bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 text-gray-800 dark:text-white';
                optionButton.textContent = option;
                optionButton.onclick = () => selectAnswer(index, optionButton);
                optionsContainer.appendChild(optionButton);
            });
            
            // Reset next button and timer
            document.getElementById('nextButton').disabled = true;
            selectedAnswer = null;
            startTimer();
        }

        function selectAnswer(answerIndex, buttonElement) {
            // Remove previous selections
            document.querySelectorAll('#answerOptions button').forEach(btn => {
                btn.classList.remove('border-blue-500', 'bg-blue-100', 'dark:bg-blue-900');
            });
            
            // Highlight selected answer
            buttonElement.classList.add('border-blue-500', 'bg-blue-100', 'dark:bg-blue-900');
            selectedAnswer = answerIndex;
            document.getElementById('nextButton').disabled = false;
            
            // Stop timer when answer is selected
            clearInterval(timer);
        }

        function nextQuestion() {
            if (selectedAnswer === null) return;
            
            const question = questions[currentQuestionIndex];
            const isCorrect = selectedAnswer === question.correct;
            
            // Show correct/incorrect feedback
            showAnswerFeedback(isCorrect, question.correct);
            
            if (isCorrect) {
                score++;
                playSound('correct');
            } else {
                playSound('incorrect');
            }
            
            // Move to next question after delay
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 2000);
        }

        function showAnswerFeedback(isCorrect, correctIndex) {
            const buttons = document.querySelectorAll('#answerOptions button');
            
            buttons.forEach((button, index) => {
                if (index === correctIndex) {
                    button.classList.add('bg-green-500', 'text-white', 'border-green-500');
                } else if (index === selectedAnswer && !isCorrect) {
                    button.classList.add('bg-red-500', 'text-white', 'border-red-500');
                }
                button.disabled = true;
            });
            
            document.getElementById('nextButton').disabled = true;
        }

        function startTimer() {
            timeLeft = 30;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Auto-move to next question if time runs out
                    if (selectedAnswer === null) {
                        selectedAnswer = -1; // Mark as incorrect
                    }
                    nextQuestion();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `‚è±Ô∏è ${timeLeft}s`;
            
            if (timeLeft <= 10) {
                timerElement.classList.add('text-red-500', 'font-bold');
            } else {
                timerElement.classList.remove('text-red-500', 'font-bold');
            }
        }

        // Results Functions
        function showResults() {
            clearInterval(timer);
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.remove('hidden');
            
            const percentage = Math.round((score / questions.length) * 100);
            
            document.getElementById('scoreDisplay').textContent = `${score}/${questions.length}`;
            document.getElementById('percentageDisplay').textContent = `${percentage}%`;
            
            // Set result icon and message based on performance
            const resultIcon = document.getElementById('resultIcon');
            const performanceMessage = document.getElementById('performanceMessage');
            
            if (percentage >= 90) {
                resultIcon.textContent = 'üèÜ';
                performanceMessage.textContent = 'Outstanding! You\'re a quiz master!';
            } else if (percentage >= 70) {
                resultIcon.textContent = 'üéâ';
                performanceMessage.textContent = 'Great job! You did really well!';
            } else if (percentage >= 50) {
                resultIcon.textContent = 'üëç';
                performanceMessage.textContent = 'Good effort! Keep practicing!';
            } else {
                resultIcon.textContent = 'üìö';
                performanceMessage.textContent = 'Keep studying and try again!';
            }
            
            playSound('finish');
        }

        function restartQuiz() {
            startQuiz(currentCategory);
        }

        // Navigation Functions
        function goHome() {
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('homepage').classList.remove('hidden');
            
            clearInterval(timer);
        }

        // Admin Functions
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
        }

        function hideAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
        }

        function loginAdmin() {
            const password = document.getElementById('adminPassword').value;
            
            if (password === 'admin123') {
                hideAdminLogin();
                showAdminPanel();
            } else {
                alert('‚ùå Incorrect password! Try: admin123');
            }
        }

        function showAdminPanel() {
            document.getElementById('homepage').classList.add('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            showCategoryManager();
            loadAdminCategories();
            loadQuestionCategorySelect();
        }

        function showCategoryManager() {
            document.getElementById('categoryManager').classList.remove('hidden');
            document.getElementById('questionManager').classList.add('hidden');
        }

        function showQuestionManager() {
            document.getElementById('categoryManager').classList.add('hidden');
            document.getElementById('questionManager').classList.remove('hidden');
        }

        function loadAdminCategories() {
            const container = document.getElementById('adminCategoriesList');
            container.innerHTML = '';
            
            Object.keys(quizData).forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'bg-white dark:bg-gray-600 p-4 rounded-lg border border-gray-200 dark:border-gray-500';
                categoryDiv.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">${quizData[category].icon}</span>
                            <div>
                                <h4 class="font-semibold text-gray-800 dark:text-white">${category}</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400">${quizData[category].questions.length} questions</p>
                            </div>
                        </div>
                        <button onclick="deleteCategory('${category}')" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-all duration-300">
                            üóëÔ∏è Delete
                        </button>
                    </div>
                `;
                container.appendChild(categoryDiv);
            });
        }

        function addCategory() {
            const name = document.getElementById('newCategoryName').value.trim();
            const icon = document.getElementById('newCategoryIcon').value.trim();
            
            if (!name || !icon) {
                alert('‚ùå Please enter both category name and icon!');
                return;
            }
            
            if (quizData[name]) {
                alert('‚ùå Category already exists!');
                return;
            }
            
            quizData[name] = {
                icon: icon,
                questions: []
            };
            
            document.getElementById('newCategoryName').value = '';
            document.getElementById('newCategoryIcon').value = '';
            
            loadCategories();
            loadAdminCategories();
            loadQuestionCategorySelect();
            
            alert('‚úÖ Category added successfully!');
        }

        function deleteCategory(categoryName) {
            if (confirm(`Are you sure you want to delete the "${categoryName}" category and all its questions?`)) {
                delete quizData[categoryName];
                loadCategories();
                loadAdminCategories();
                loadQuestionCategorySelect();
                alert('‚úÖ Category deleted successfully!');
            }
        }

        function loadQuestionCategorySelect() {
            const select = document.getElementById('questionCategorySelect');
            select.innerHTML = '<option value="">Choose a category...</option>';
            
            Object.keys(quizData).forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = `${quizData[category].icon} ${category}`;
                select.appendChild(option);
            });
            
            select.onchange = () => loadQuestionsForCategory(select.value);
        }

        function loadQuestionsForCategory(category) {
            if (!category) {
                document.getElementById('questionsList').innerHTML = '';
                return;
            }
            
            const container = document.getElementById('questionsList');
            container.innerHTML = '';
            
            const questions = quizData[category].questions;
            
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'bg-white dark:bg-gray-600 p-4 rounded-lg border border-gray-200 dark:border-gray-500';
                questionDiv.innerHTML = `
                    <div class="mb-3">
                        <h5 class="font-semibold text-gray-800 dark:text-white mb-2">Question ${index + 1}:</h5>
                        <p class="text-gray-700 dark:text-gray-300 mb-2">${question.question}</p>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            ${question.options.map((option, optIndex) => 
                                `<span class="px-2 py-1 rounded ${optIndex === question.correct ? 'bg-green-200 dark:bg-green-800 text-green-800 dark:text-green-200' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'}">${option}</span>`
                            ).join('')}
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <button onclick="deleteQuestion('${category}', ${index})" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-all duration-300">
                            üóëÔ∏è Delete
                        </button>
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function addQuestion() {
            const category = document.getElementById('questionCategorySelect').value;
            const questionText = document.getElementById('newQuestion').value.trim();
            const option1 = document.getElementById('newOption1').value.trim();
            const option2 = document.getElementById('newOption2').value.trim();
            const option3 = document.getElementById('newOption3').value.trim();
            const option4 = document.getElementById('newOption4').value.trim();
            const correct = document.getElementById('correctAnswer').value;
            
            if (!category) {
                alert('‚ùå Please select a category!');
                return;
            }
            
            if (!questionText || !option1 || !option2 || !option3 || !option4 || correct === '') {
                alert('‚ùå Please fill in all fields!');
                return;
            }
            
            const newQuestion = {
                question: questionText,
                options: [option1, option2, option3, option4],
                correct: parseInt(correct)
            };
            
            quizData[category].questions.push(newQuestion);
            
            // Clear form
            document.getElementById('newQuestion').value = '';
            document.getElementById('newOption1').value = '';
            document.getElementById('newOption2').value = '';
            document.getElementById('newOption3').value = '';
            document.getElementById('newOption4').value = '';
            document.getElementById('correctAnswer').value = '';
            
            loadQuestionsForCategory(category);
            loadCategories();
            alert('‚úÖ Question added successfully!');
        }

        function deleteQuestion(category, questionIndex) {
            if (confirm('Are you sure you want to delete this question?')) {
                quizData[category].questions.splice(questionIndex, 1);
                loadQuestionsForCategory(category);
                loadCategories();
                alert('‚úÖ Question deleted successfully!');
            }
        }

        // Sound Effects (Mock functions - you can implement actual audio)
        function playSound(type) {
            // Mock sound effects - in a real app, you would play actual audio files
            console.log(`Playing ${type} sound effect`);
            
            // You can implement actual audio like this:
            // const audio = new Audio(`sounds/${type}.mp3`);
            // audio.play();
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Admin shortcut: Ctrl + Shift + A
            if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                showAdminLogin();
            }
            
            // Dark mode shortcut: Ctrl + D
            if (e.ctrlKey && e.key === 'd') {
                e.preventDefault();
                toggleDarkMode();
            }
        });

        // Handle Enter key in admin login
        document.getElementById('adminPassword').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                loginAdmin();
            }
        });

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);

        // Add some extra features for enhanced user experience
        
        // Auto-save quiz data to localStorage
        function saveQuizData() {
            try {
                localStorage.setItem('quizData', JSON.stringify(quizData));
            } catch (e) {
                console.log('Could not save to localStorage:', e);
            }
        }

        function loadQuizData() {
            try {
                const savedData = localStorage.getItem('quizData');
                if (savedData) {
                    quizData = JSON.parse(savedData);
                }
            } catch (e) {
                console.log('Could not load from localStorage:', e);
            }
        }

        // Statistics tracking
        let userStats = {
            totalQuizzes: 0,
            totalCorrect: 0,
            totalQuestions: 0,
            categoryStats: {}
        };

        function updateStats(category, correct, total) {
            userStats.totalQuizzes++;
            userStats.totalCorrect += correct;
            userStats.totalQuestions += total;
            
            if (!userStats.categoryStats[category]) {
                userStats.categoryStats[category] = { correct: 0, total: 0, quizzes: 0 };
            }
            
            userStats.categoryStats[category].correct += correct;
            userStats.categoryStats[category].total += total;
            userStats.categoryStats[category].quizzes++;
            
            try {
                localStorage.setItem('userStats', JSON.stringify(userStats));
            } catch (e) {
                console.log('Could not save stats:', e);
            }
        }

        function loadUserStats() {
            try {
                const savedStats = localStorage.getItem('userStats');
                if (savedStats) {
                    userStats = JSON.parse(savedStats);
                }
            } catch (e) {
                console.log('Could not load stats:', e);
            }
        }

        // Enhanced initialization
        function initializeApp() {
            loadQuizData();
            loadUserStats();
            loadCategories();
            setupDarkMode();
            
            // Load saved dark mode preference
            const savedDarkMode = localStorage.getItem('darkMode');
            if (savedDarkMode === 'true') {
                enableDarkMode();
            }
        }

        // Update the showResults function to include stats
        function showResults() {
            clearInterval(timer);
            document.getElementById('quizPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.remove('hidden');
            
            const percentage = Math.round((score / questions.length) * 100);
            
            document.getElementById('scoreDisplay').textContent = `${score}/${questions.length}`;
            document.getElementById('percentageDisplay').textContent = `${percentage}%`;
            
            // Update statistics
            updateStats(currentCategory, score, questions.length);
            
            // Set result icon and message based on performance
            const resultIcon = document.getElementById('resultIcon');
            const performanceMessage = document.getElementById('performanceMessage');
            
            if (percentage >= 90) {
                resultIcon.textContent = 'üèÜ';
                performanceMessage.textContent = 'Outstanding! You\'re a quiz master!';
            } else if (percentage >= 70) {
                resultIcon.textContent = 'üéâ';
                performanceMessage.textContent = 'Great job! You did really well!';
            } else if (percentage >= 50) {
                resultIcon.textContent = 'üëç';
                performanceMessage.textContent = 'Good effort! Keep practicing!';
            } else {
                resultIcon.textContent = 'üìö';
                performanceMessage.textContent = 'Keep studying and try again!';
            }
            
            playSound('finish');
        }

        // Auto-save when admin makes changes
        const originalAddCategory = addCategory;
        addCategory = function() {
            originalAddCategory();
            saveQuizData();
        };

        const originalDeleteCategory = deleteCategory;
        deleteCategory = function(categoryName) {
            originalDeleteCategory(categoryName);
            saveQuizData();
        };

        const originalAddQuestion = addQuestion;
        addQuestion = function() {
            originalAddQuestion();
            saveQuizData();
        };

        const originalDeleteQuestion = deleteQuestion;
        deleteQuestion = function(category, questionIndex) {
            originalDeleteQuestion(category, questionIndex);
            saveQuizData();
        };

    </script>
</body>
</html>